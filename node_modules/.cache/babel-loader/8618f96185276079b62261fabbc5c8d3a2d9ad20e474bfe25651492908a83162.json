{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import UserContext from'./contexts/UserContext';import Header from'./components/Header';import ProductDisplay from'./components/ProductDisplay';import Modal from'./components/Modal';import Cart from'./components/Cart';import Checkout from'./components/Checkout';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[userProfile,setUserProfile]=useState(null);const[cartItems,setCartItems]=useState(()=>{const savedCart=sessionStorage.getItem('cart');return savedCart?JSON.parse(savedCart):[];});const[showModal,setShowModal]=useState(false);const addToCart=product=>{setCartItems(prevItems=>{let updatedItems=[];const itemExists=prevItems.find(item=>item.id===product.id);if(itemExists){updatedItems=prevItems.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item);}else{updatedItems=[...prevItems,{...product,quantity:1}];}sessionStorage.setItem('cart',JSON.stringify(updatedItems));return updatedItems;});setShowModal(true);};const clearCart=()=>{setCartItems([]);};const closeModal=()=>setShowModal(false);return/*#__PURE__*/_jsx(UserContext.Provider,{value:{profile:userProfile,setProfile:setUserProfile},children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProductDisplay,{addToCart:addToCart}),showModal&&/*#__PURE__*/_jsx(Modal,{closeModal:closeModal})]})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cartItems:cartItems})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{clearCart:clearCart})})]})]})})});}export default App;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Route","Routes","UserContext","Header","ProductDisplay","Modal","Cart","Checkout","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","userProfile","setUserProfile","cartItems","setCartItems","savedCart","sessionStorage","getItem","JSON","parse","showModal","setShowModal","addToCart","product","prevItems","updatedItems","itemExists","find","item","id","map","quantity","setItem","stringify","clearCart","closeModal","Provider","value","profile","setProfile","children","className","path","element"],"sources":["/home/the-backend-dev/Desktop/affinidi/affinidi-capstone/src/App.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport UserContext from './contexts/UserContext';\nimport Header from './components/Header';\nimport ProductDisplay from './components/ProductDisplay';\nimport Modal from './components/Modal';\nimport Cart from './components/Cart';\nimport Checkout from './components/Checkout';\nimport './App.css';\n\nfunction App() {\n  const [userProfile, setUserProfile] = useState(null);\n  const [cartItems, setCartItems] = useState(() => {\n    const savedCart = sessionStorage.getItem('cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n  const [showModal, setShowModal] = useState(false);\n\n  const addToCart = (product) => {\n    setCartItems((prevItems) => {\n      let updatedItems = [];\n      const itemExists = prevItems.find((item) => item.id === product.id);\n      if (itemExists) {\n        updatedItems = prevItems.map((item) =>\n          item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n        );\n      } else {\n        updatedItems = [...prevItems, { ...product, quantity: 1 }];\n      }\n      sessionStorage.setItem('cart', JSON.stringify(updatedItems));\n      return updatedItems\n    });\n    setShowModal(true);\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n  };\n\n  const closeModal = () => setShowModal(false);\n  return (\n    <UserContext.Provider value={{ profile: userProfile, setProfile: setUserProfile }}>\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Routes>\n          <Route \n            path=\"/\" \n            element={\n              <>\n                <ProductDisplay addToCart={addToCart} />\n                {showModal && <Modal closeModal={closeModal} />}\n              </>\n            } \n          />\n          <Route path=\"/cart\" element={<Cart cartItems={cartItems} />} />\n          <Route path=\"/checkout\" element={<Checkout clearCart={clearCart}/>} />\n        </Routes>\n      </div>\n    </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}